{"ast":null,"code":"import Axios from \"axios\";\nimport { USER_REGISTER_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_SIGNIN_FAIL, USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNOUT } from \"../Constants/userConstants\";\nexport const signin = (email, password) => async (dispatch, getState) => {\n  dispatch({\n    type: USER_SIGNIN_REQUEST,\n    payload: {\n      email,\n      password\n    }\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.post('/api/users/signin', {\n      email,\n      password\n    });\n    dispatch({\n      type: USER_SIGNIN_SUCCESS,\n      payload: data\n    });\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\n  } catch (error) {\n    dispatch({\n      type: USER_SIGNIN_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const signout = () => dispatch => {\n  localStorage.removeItem('userInfo');\n  localStorage.removeItem('cartItems');\n  dispatch({\n    type: USER_SIGNOUT\n  });\n};\nexport const register = (name, email, password) => async (dispatch, getState) => {\n  dispatch({\n    type: USER_REGISTER_REQUEST,\n    payload: {\n      name,\n      email,\n      password\n    }\n  });\n\n  try {\n    const {\n      data\n    } = await Axios.post('/api/users/register', {\n      email,\n      password\n    });\n    dispatch({\n      type: USER_REGISTER_SUCCESS,\n      payload: data\n    });\n    dispatch({\n      type: USER_SIGNIN_SUCCESS,\n      payload: data\n    });\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\n  } catch (error) {\n    dispatch({\n      type: USER_REGISTER_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};","map":{"version":3,"sources":["E:/LocalMart/frontend/src/actions/userActions.js"],"names":["Axios","USER_REGISTER_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_SIGNIN_FAIL","USER_SIGNIN_REQUEST","USER_SIGNIN_SUCCESS","USER_SIGNOUT","signin","email","password","dispatch","getState","type","payload","data","post","localStorage","setItem","JSON","stringify","error","response","message","signout","removeItem","register","name"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,kBAAT,EAA6BC,qBAA7B,EAAoDC,qBAApD,EAA2EC,gBAA3E,EAA6FC,mBAA7F,EAAkHC,mBAAlH,EAAuIC,YAAvI,QAA2J,4BAA3J;AAEC,OAAO,MAAMC,MAAM,GAAC,CAACC,KAAD,EAAOC,QAAP,KAAkB,OAAMC,QAAN,EAAeC,QAAf,KAA0B;AAC5DD,EAAAA,QAAQ,CAAC;AAACE,IAAAA,IAAI,EAACR,mBAAN;AAA0BS,IAAAA,OAAO,EAAC;AAACL,MAAAA,KAAD;AAAOC,MAAAA;AAAP;AAAlC,GAAD,CAAR;;AACA,MAAG;AACD,UAAM;AAACK,MAAAA;AAAD,QAAO,MAAMf,KAAK,CAACgB,IAAN,CAAW,mBAAX,EAA+B;AAACP,MAAAA,KAAD;AAAOC,MAAAA;AAAP,KAA/B,CAAnB;AACAC,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAACP,mBAAN;AAA0BQ,MAAAA,OAAO,EAACC;AAAlC,KAAD,CAAR;AACAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAhC;AACD,GAJD,CAKA,OAAMM,KAAN,EAAY;AACVV,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAACT,gBADA;AAELU,MAAAA,OAAO,EAAGO,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeP,IAAf,CAAoBQ,OAAtC,GAA8CF,KAAK,CAACC,QAAN,CAAeP,IAAf,CAAoBQ,OAAlE,GAA4EF,KAAK,CAACE;AAFvF,KAAD,CAAR;AAID;AACJ,CAbM;AAcP,OAAO,MAAMC,OAAO,GAAC,MAAKb,QAAD,IAAY;AACjCM,EAAAA,YAAY,CAACQ,UAAb,CAAwB,UAAxB;AACAR,EAAAA,YAAY,CAACQ,UAAb,CAAwB,WAAxB;AACAd,EAAAA,QAAQ,CAAC;AAACE,IAAAA,IAAI,EAACN;AAAN,GAAD,CAAR;AACH,CAJM;AAKP,OAAO,MAAMmB,QAAQ,GAAC,CAACC,IAAD,EAAMlB,KAAN,EAAYC,QAAZ,KAAuB,OAAMC,QAAN,EAAeC,QAAf,KAA0B;AACtED,EAAAA,QAAQ,CAAC;AAACE,IAAAA,IAAI,EAACX,qBAAN;AAA4BY,IAAAA,OAAO,EAAC;AAACa,MAAAA,IAAD;AAAMlB,MAAAA,KAAN;AAAYC,MAAAA;AAAZ;AAApC,GAAD,CAAR;;AACA,MAAG;AACD,UAAM;AAACK,MAAAA;AAAD,QAAO,MAAMf,KAAK,CAACgB,IAAN,CAAW,qBAAX,EAAiC;AAACP,MAAAA,KAAD;AAAOC,MAAAA;AAAP,KAAjC,CAAnB;AACAC,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAACV,qBAAN;AAA4BW,MAAAA,OAAO,EAACC;AAApC,KAAD,CAAR;AACAJ,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAACP,mBAAN;AAA0BQ,MAAAA,OAAO,EAACC;AAAlC,KAAD,CAAR;AACAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAhC;AACD,GALD,CAMA,OAAMM,KAAN,EAAY;AACVV,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAACZ,kBADA;AAELa,MAAAA,OAAO,EAAGO,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeP,IAAf,CAAoBQ,OAAtC,GAA8CF,KAAK,CAACC,QAAN,CAAeP,IAAf,CAAoBQ,OAAlE,GAA4EF,KAAK,CAACE;AAFvF,KAAD,CAAR;AAID;AACF,CAdO","sourcesContent":["import Axios from \"axios\";\r\nimport { USER_REGISTER_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_SIGNIN_FAIL, USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNOUT } from \"../Constants/userConstants\"\r\n\r\n export const signin=(email,password)=>async(dispatch,getState)=>{\r\n     dispatch({type:USER_SIGNIN_REQUEST,payload:{email,password}});\r\n     try{\r\n       const {data}=await Axios.post('/api/users/signin',{email,password});\r\n       dispatch({type:USER_SIGNIN_SUCCESS,payload:data});\r\n       localStorage.setItem(\"userInfo\",JSON.stringify(data));\r\n     }\r\n     catch(error){\r\n       dispatch({\r\n           type:USER_SIGNIN_FAIL,\r\n           payload : error.response && error.response.data.message?error.response.data.message : error.message,\r\n       });\r\n     }\r\n }\r\n export const signout=()=>(dispatch)=>{\r\n     localStorage.removeItem('userInfo');\r\n     localStorage.removeItem('cartItems');\r\n     dispatch({type:USER_SIGNOUT});\r\n }\r\n export const register=(name,email,password)=>async(dispatch,getState)=>{\r\n  dispatch({type:USER_REGISTER_REQUEST,payload:{name,email,password}});\r\n  try{\r\n    const {data}=await Axios.post('/api/users/register',{email,password});\r\n    dispatch({type:USER_REGISTER_SUCCESS,payload:data});\r\n    dispatch({type:USER_SIGNIN_SUCCESS,payload:data});\r\n    localStorage.setItem(\"userInfo\",JSON.stringify(data));\r\n  }\r\n  catch(error){\r\n    dispatch({\r\n        type:USER_REGISTER_FAIL,\r\n        payload : error.response && error.response.data.message?error.response.data.message : error.message,\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}